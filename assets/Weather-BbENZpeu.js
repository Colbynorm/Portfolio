import{e as C,i as o,f as b,b as l,w as x,r as i,a as u,j as $,k as R,d as W,t as r,o as V,_ as j}from"./index-8uuaBNaE.js";import{S as E}from"./Snackbar-DfuHnS9U.js";const N={class:"weather-app"},S={key:0,class:"mt-8 weather-result"},B={class:"temp"},K={class:"desc"},U={class:"location"},I=C({__name:"Weather",setup(q){const p=o(!1),f=o(""),w=o("info");function g(a,e="info"){f.value=a,p.value=!0,w.value=e}const c=o(""),t=o(null),d=o(!1),y=async()=>{if(c.value){d.value=!0;try{const a="3910c585fac6f687c9543a7ed0717ea0",n=await(await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(c.value)}&limit=1&appid=${a}`)).json();if(console.log(n),!n.length){g("City not found","error");return}const{lat:m,lon:v,name:h,state:s,country:k}=n[0],_=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${m}&lon=${v}&appid=${a}&units=imperial`)).json();t.value={temp:_.main.temp,description:_.weather[0].description,icon:_.weather[0].icon,city:h,state:s,country:k}}catch(a){console.error("Error fetching weather:",a),g("Error fetching weather: "+a,"error"),t.value=null}finally{d.value=!1}}};return(a,e)=>{const n=i("v-text-field"),m=i("v-btn"),v=i("v-img"),h=i("v-container");return V(),b("div",N,[l(h,{class:"text-center d-flex flex-column justify-center align-center glass-card"},{default:x(()=>[e[3]||(e[3]=u("h1",{class:"headline mb-6"},"🌤️ Weather Vibes",-1)),l(n,{class:"weather-input mb-4",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),label:"Enter City","prepend-inner-icon":"mdi-city",variant:"solo-filled",onKeyup:R(y,["enter"])},null,8,["modelValue"]),l(m,{color:"deep-purple-accent-4",onClick:y,loading:d.value},{default:x(()=>e[2]||(e[2]=[W(" 🔍 Get Weather ")])),_:1,__:[2]},8,["loading"]),t.value?(V(),b("div",S,[l(v,{src:`https://openweathermap.org/img/wn/${t.value.icon}@4x.png`,contain:"",width:"120",class:"mx-auto mb-2"},null,8,["src"]),u("h2",B,r(t.value.temp)+"°F",1),u("p",K,r(t.value.description),1),u("p",U,"📍 "+r(t.value.city)+", "+r(t.value.state)+" "+r(t.value.country),1)])):$("",!0)]),_:1,__:[3]}),l(E,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),message:f.value,color:w.value},null,8,["modelValue","message","color"])])}}}),M=j(I,[["__scopeId","data-v-c0591705"]]);export{M as default};
