import{e as V,h as s,f as h,b as n,w as y,r,a as c,i as k,j as C,d as S,t as i,o as g,_ as W}from"./index-th69x_3I.js";import{S as E}from"./Snackbar-C6MNILUv.js";const K={class:"weather-app"},N={key:0,class:"mt-8 weather-result"},j={class:"temp"},B={class:"desc"},$={class:"location"},T=V({__name:"Weather",setup(U){const u=s(!1),v=s(""),_=s("info");function d(o,e="info"){v.value=o,u.value=!0,_.value=e}const l=s(""),a=s(null),p=s(!1),f=async()=>{if(l.value){p.value=!0;try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${l.value}&appid=3910c585fac6f687c9543a7ed0717ea0&units=metric`)).json();console.log(t),t.cod!==200?(d("There was an issue. "+t.message,"error"),a.value=null):(a.value={temp:t.main.temp,description:t.weather[0].description,icon:t.weather[0].icon,city:t.name,country:t.sys.country},d("Successfully grabbed city!","success"))}catch(o){console.error("Error fetching weather:",o),d("Error fetching weather: "+o,"error"),a.value=null}finally{p.value=!1}}};return(o,e)=>{const t=r("v-text-field"),w=r("v-btn"),b=r("v-img"),x=r("v-container");return g(),h("div",K,[n(x,{class:"text-center d-flex flex-column justify-center align-center glass-card"},{default:y(()=>[e[3]||(e[3]=c("h1",{class:"headline mb-6"},"🌤️ Weather Vibes",-1)),n(t,{class:"weather-input mb-4",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=m=>l.value=m),label:"Enter City","prepend-inner-icon":"mdi-city",variant:"solo-filled",onKeyup:C(f,["enter"])},null,8,["modelValue"]),n(w,{color:"deep-purple-accent-4",onClick:f,loading:p.value},{default:y(()=>e[2]||(e[2]=[S(" 🔍 Get Weather ")])),_:1,__:[2]},8,["loading"]),a.value?(g(),h("div",N,[n(b,{src:`https://openweathermap.org/img/wn/${a.value.icon}@4x.png`,contain:"",width:"120",class:"mx-auto mb-2"},null,8,["src"]),c("h2",j,i(a.value.temp)+"°C",1),c("p",B,i(a.value.description),1),c("p",$,"📍 "+i(a.value.city)+", "+i(a.value.country),1)])):k("",!0)]),_:1,__:[3]}),n(E,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=m=>u.value=m),message:v.value,color:_.value},null,8,["modelValue","message","color"])])}}}),G=W(T,[["__scopeId","data-v-90ed8586"]]);export{G as default};
